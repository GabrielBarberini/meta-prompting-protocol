<svg xmlns="http://www.w3.org/2000/svg" width="1000" height="280" viewBox="0 0 1000 280">
  <defs>
    <style>
      .box { fill: #f8fafc; stroke: #cbd5e1; stroke-width: 1.5; }
      .box-strong { fill: #eef2ff; stroke: #6366f1; stroke-width: 2; }
      .label { font: 13px Arial, sans-serif; fill: #0f172a; }
      .label-soft { font: 12px Arial, sans-serif; fill: #475569; }
      .dashed { stroke-dasharray: 6 4; }
    </style>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
      <path d="M0,0 L8,3 L0,6 Z" fill="#64748b" />
    </marker>
  </defs>

  <rect x="180" y="20" width="560" height="120" rx="10" class="box-strong" />
  <text x="460" y="42" class="label" text-anchor="middle">MPPAutoAdapter (DSPy Module)</text>

  <rect x="20" y="60" width="140" height="50" rx="8" class="box" />
  <text x="90" y="90" class="label" text-anchor="middle">User Goal</text>

  <rect x="210" y="60" width="150" height="50" rx="8" class="box" />
  <text x="285" y="82" class="label" text-anchor="middle">Architect</text>
  <text x="285" y="98" class="label-soft" text-anchor="middle">Fixed Adapter</text>

  <rect x="390" y="60" width="140" height="50" rx="8" class="box" />
  <text x="460" y="82" class="label" text-anchor="middle">Bundle</text>
  <text x="460" y="98" class="label-soft" text-anchor="middle">Spec + Payload</text>

  <rect x="560" y="60" width="160" height="50" rx="8" class="box" />
  <text x="640" y="82" class="label" text-anchor="middle">Executor</text>
  <text x="640" y="98" class="label-soft" text-anchor="middle">Derived Adapter</text>

  <rect x="750" y="60" width="200" height="50" rx="8" class="box" />
  <text x="850" y="90" class="label" text-anchor="middle">Final Response</text>

  <line x1="160" y1="85" x2="210" y2="85" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrow)" />
  <line x1="360" y1="85" x2="390" y2="85" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrow)" />
  <line x1="530" y1="85" x2="560" y2="85" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrow)" />
  <line x1="720" y1="85" x2="750" y2="85" stroke="#64748b" stroke-width="1.5" marker-end="url(#arrow)" />

  <rect x="560" y="150" width="160" height="44" rx="8" class="box dashed" />
  <text x="640" y="176" class="label-soft" text-anchor="middle">QA Loop (Open World)</text>

  <line x1="640" y1="110" x2="640" y2="150" stroke="#64748b" stroke-width="1.2" class="dashed" marker-end="url(#arrow)" />
  <line x1="640" y1="194" x2="640" y2="110" stroke="#64748b" stroke-width="1.2" class="dashed" marker-end="url(#arrow)" />
</svg>
